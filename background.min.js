function openBookmarksInFolder(folderIndex){chrome.bookmarks.getTree((bookmarks=>{const folder=bookmarks[0].children[0].children[folderIndex];folder&&folder.children?folder.children.forEach((child=>{child.url&&chrome.tabs.create({url:child.url})})):console.error(`No folder found at index: ${folderIndex}`)}))}function closeAllTabsExceptCurrent(){chrome.tabs.query({currentWindow:!0,active:!1},(tabs=>{const tabsToClose=tabs.map((tab=>tab.id));chrome.tabs.remove(tabsToClose)}))}chrome.commands.onCommand.addListener((command=>{if(command.startsWith("open-folder-")){openBookmarksInFolder(parseInt(command.split("-")[2],10)-1)}else"close-tabs"===command&&closeAllTabsExceptCurrent()}));